{"version":3,"file":"932.js","sources":["webpack://runhost1/./node_modules/.pnpm/@module-federation+runtime-tools@0.2.1/node_modules/@module-federation/runtime-tools/dist/runtime.cjs.js","webpack://runhost1/./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js","webpack://runhost1/./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://runhost1/./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js","webpack://runhost1/./src/App.tsx","webpack://runhost1/./src/bootstrap.tsx","webpack://runhost1/./node_modules/.pnpm/@module-federation+enhanced@0.2.1_typescript@5.5.3_webpack@5.92.1/node_modules/@module-federation/enhanced/dist/src/runtime.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar runtime = require('@module-federation/runtime');\n\n\n\nObject.keys(runtime).forEach(function (k) {\n\tif (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return runtime[k]; }\n\t});\n});\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import './App.css';\nimport { lazy, Suspense } from 'react';\nimport { loadRemote } from '@module-federation/runtime';\n//@ts-ignore\nconst Hello = lazy(() =>\n  loadRemote('a2/Hello').then(module => ({ default: module.Hello })),\n);\nfunction App() {\n  return (\n    <div className=\"App max-w-[1200px] w-full flex items-center  h-[400px]\">\n      <div className=\"container mx-auto border w-full p-20 flex flex-col gap-10 rounded-lg border-white border-[0.2px]\">\n        <h1>Runhost :)</h1>\n        <p>\n          This is currently in the <code>runhost</code> app.{' '}\n          <ul>\n            <li>Directory name: runhost</li>\n            <li>package.json name: @rspack-hmr/rspack-runhost</li>\n          </ul>{' '}\n          <br /> We are taking the <code>'Hello'</code>module from App_02\n        </p>\n\n        <Suspense fallback=\"Loading Hello\">\n          <Hello name={'bob?'} />\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.tsx';\nimport './index.css';\nimport { FederationRuntimePlugin, init, loadRemote } from '@module-federation/enhanced/runtime';\n\nconst runtimePlugin: () => FederationRuntimePlugin = function () {\n  return {\n    name: 'my-runtime-plugin',\n    beforeInit(args) {\n      console.log('beforeInit: ', args);\n      return args;\n    },\n    beforeRequest(args) {\n      console.log('beforeRequest: ', args);\n      return args;\n    },\n\n    // loadRemoteSnapshot(args) {\n    //   console.log(\"loadRemoteSnapshot: \", args);\n    // if (args.manifestJson && (args.manifestJson.metaData as any).publicPath.includes(\"placeholder\")) {\n    //   (args.manifestJson.metaData as any).publicPath = (args.manifestJson.metaData as any).publicPath.replace(\n    //     \"placeholder\",\n    //     args.manifestUrl?.split(\"/\")[2].split(\":\")[0],\n    //   );\n    // }\n    // if ((args.remoteSnapshot as any).publicPath.includes(\"placeholder\")) {\n    //   (args.remoteSnapshot as any).publicPath = (args.remoteSnapshot as any).publicPath.replace(\n    //     \"placeholder\",\n    //     args.manifestUrl?.split(\"/\")[2].split(\":\")[0],\n    //   );\n    // }\n    //   return args;\n    //},\n\n    afterResolve(args) {\n      console.log('afterResolve', args);\n      return args;\n    },\n    onLoad(args) {\n      console.log('onLoad: ', args);\n      return args;\n    },\n    async loadShare(args) {\n      console.log('loadShare:', args);\n      return args;\n    },\n    async beforeLoadShare(args) {\n      console.log('beforeloadShare:', args);\n      return args;\n    },\n    // async initContainer(args) {\n    //  console.log(\"initContainer: \", args);\n    // args.origin.snapshotHandler.manifestCache.forEach((manifest, index) => {\n    //   console.log(args);\n    //   manifest.metaData.publicPath = manifest.metaData.publicPath.replace(\n    //     \"placeholder\",\n    //     args.remoteInfo.entry.split(\"/\")[2].split(\":\")[0],\n    //   );\n    //   console.log(\"manifest: \", manifest);\n    // });\n    // console.log(\"args after\", args);\n    //return args;\n    //},\n  };\n};\n\nexport async function renderApp() {\n  init({\n    name: 'runhost',\n    remotes: [{ name: '@app_02', entry: 'http://localhost:3001/mf-manifest.json', alias: 'a2' }],\n    plugins: [runtimePlugin()],\n  });\n\n  loadRemote('a2/pi').then(module => {\n    console.log('results from pi in app02: ', (module as any).default());\n  });\n  ReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n  );\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"@module-federation/runtime-tools/runtime\"), exports);\n//# sourceMappingURL=runtime.js.map"],"names":["lazy","Suspense","loadRemote","Hello","then","module","default","App","className","fallback","name","React","ReactDOM","init","runtimePlugin","beforeInit","args","console","log","beforeRequest","afterResolve","onLoad","loadShare","beforeLoadShare","renderApp","remotes","entry","alias","plugins","createRoot","document","getElementById","render","StrictMode"],"mappings":";;;AAAa;;AAEb,8CAA6C,EAAE,aAAa,EAAC;;AAE7D,cAAc,mBAAO,CAAC,GAA4B;;;;AAIlD;AACA,yBAAyB,sBAAsB;AAC/C;AACA,qBAAqB;AACrB,EAAE;AACF,CAAC;;;;;ACbY;;AAEb,QAAQ,mBAAO,CAAC,GAAW;AAC3B,IAAI,IAAqC;AACzC,EAAE,kBAAkB;AACpB,EAAE,mBAAmB;AACrB,EAAE,KAAK,SAkBN;;;;;;ACxBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa,MAAM,mBAAO,CAAC,GAAO,6KAA6K;AAC/M,kBAAkB,UAAU,eAAe,qBAAqB,6BAA6B,0BAA0B,0DAA0D,4EAA4E,OAAO,wDAAwD,yBAAgB,GAAG,WAAW,GAAG,YAAY;;;;;ACV5V;;AAEb,IAAI,IAAqC;AACzC,EAAE,yCAAqE;AACvE,EAAE,KAAK,EAEN;;;;;;;;;;;ACNkB;AACoB;AACiB;AACxD,YAAY;AACZ,MAAMG,sBAAQH,2CAAIA,CAAC,IACjBE,sEAAUA,CAAC,YAAYE,IAAI,CAACC,CAAAA,SAAW;YAAEC,SAASD,OAAOF,KAAK;QAAC;AAEjE,SAASI;IACP,qBACE,uDAAC;QAAIC,WAAU;kBACb,sEAAC;YAAIA,WAAU;;8BACb,uDAAC;8BAAG;;8BACJ,wDAAC;;wBAAE;sCACwB,uDAAC;sCAAK;;wBAAc;wBAAM;sCACnD,wDAAC;;8CACC,uDAAC;8CAAG;;8CACJ,uDAAC;8CAAG;;;;wBACA;sCACN,uDAAC;wBAAK;sCAAmB,uDAAC;sCAAK;;wBAAc;;;8BAG/C,uDAACP,2CAAQA;oBAACQ,UAAS;8BACjB,qEAACN;wBAAMO,MAAM;;;;;;AAKvB;AAEA,sDAAeH,GAAGA,EAAC;;;;;;;;;;;;;;;;;;AC7BO;AACc;AACZ;AACP;AAC2E;AAEhG,MAAMO,gBAA+C;IACnD,OAAO;QACLJ,MAAM;QACNK,YAAWC,IAAI;YACbC,QAAQC,GAAG,CAAC,gBAAgBF;YAC5B,OAAOA;QACT;QACAG,eAAcH,IAAI;YAChBC,QAAQC,GAAG,CAAC,mBAAmBF;YAC/B,OAAOA;QACT;QAEA,6BAA6B;QAC7B,+CAA+C;QAC/C,qGAAqG;QACrG,6GAA6G;QAC7G,qBAAqB;QACrB,qDAAqD;QACrD,OAAO;QACP,IAAI;QACJ,yEAAyE;QACzE,+FAA+F;QAC/F,qBAAqB;QACrB,qDAAqD;QACrD,OAAO;QACP,IAAI;QACJ,iBAAiB;QACjB,IAAI;QAEJI,cAAaJ,IAAI;YACfC,QAAQC,GAAG,CAAC,gBAAgBF;YAC5B,OAAOA;QACT;QACAK,QAAOL,IAAI;YACTC,QAAQC,GAAG,CAAC,YAAYF;YACxB,OAAOA;QACT;QACA,MAAMM,WAAUN,IAAI;YAClBC,QAAQC,GAAG,CAAC,cAAcF;YAC1B,OAAOA;QACT;QACA,MAAMO,iBAAgBP,IAAI;YACxBC,QAAQC,GAAG,CAAC,oBAAoBF;YAChC,OAAOA;QACT;IAcF;AACF;AAEO,eAAeQ;IACpBX,yEAAIA,CAAC;QACHH,MAAM;QACNe,SAAS;YAAC;gBAAEf,MAAM;gBAAWgB,OAAO;gBAA0CC,OAAO;YAAK;SAAE;QAC5FC,SAAS;YAACd;SAAgB;IAC5B;IAEAZ,+EAAUA,CAAC,SAASE,IAAI,CAACC,CAAAA;QACvBY,QAAQC,GAAG,CAAC,8BAA+Bb,OAAeC,OAAO;IACnE;IACAM,wDAAmB,CAACkB,SAASC,cAAc,CAAC,SAAwBC,MAAM,eACxE,uDAACrB,yDAAgB;kBACf,qEAACJ,wDAAGA;;AAGV;;;;;;;;;;;;;;;AClFa;AACb,uBAAuB,IAAI,IAAI,oBAAoB;AACnD;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD,oBAAoB,IAAI,IAAI,iBAAiB;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,GAA0C,GAAG,OAAO;AACzE"}